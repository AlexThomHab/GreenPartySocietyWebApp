<section class="events-hero">
  <h1>Events</h1>
  <p>Talks, discussions, socials, and campaigns throughout the year</p>
</section>

<section class="events-content">
  <div class="container events-layout">

    <div class="events-list">
      <h2>Upcoming Events</h2>

      <div *ngIf="isLoading" style="padding: 2rem; text-align: center;">
        Loading events...
      </div>

      <div class="event-card" *ngFor="let event of upcomingEventsForList">
        <div class="event-date">
          <span class="day">{{ event.startsAt | date:'dd' }}</span>
          <span class="month">{{ event.startsAt | date:'MMM' | uppercase }}</span>
        </div>

        <div class="event-info">
          <h3>{{ event.title }}</h3>

          <p class="event-meta">
            üìç {{ event.location }} ¬∑ {{ event.startsAt | date:'h:mm a' }}
          </p>

          <p>
            {{ event.description }}
          </p>

          <div class="event-actions">
            <a class="btn" [routerLink]="['/events', event.id]">
              View details
            </a>
            <a class="btn btn-secondary" [href]="getOutlookCalendarUrl(event)" target="_blank" rel="noopener noreferrer">
              Add to Outlook
            </a>
            <a class="btn btn-secondary" [href]="getGoogleCalendarUrl(event)" target="_blank" rel="noopener noreferrer">
              Add to Google
            </a>

          </div>
        </div>
      </div>

    </div>

    <div class="events-calendar">
      <h2>Event Calendar</h2>

      <div *ngIf="isLoading" style="padding: 2rem; text-align: center;">
        Loading calendar...
      </div>

      <div class="calendar" *ngIf="!isLoading">
        <div class="calendar-header">
          <button class="cal-nav" (click)="prevMonth()">‚Äπ</button>
          <span>{{ monthLabel() }}</span>
          <button class="cal-nav" (click)="nextMonth()">‚Ä∫</button>
        </div>

        <div class="calendar-grid">
          <div class="day-label">Mon</div>
          <div class="day-label">Tue</div>
          <div class="day-label">Wed</div>
          <div class="day-label">Thu</div>
          <div class="day-label">Fri</div>
          <div class="day-label">Sat</div>
          <div class="day-label">Sun</div>

          <ng-container *ngFor="let c of cells">
            <div *ngIf="c.kind === 'empty'" class="day empty"></div>

            <div
              *ngIf="c.kind === 'day'"
              class="day"
              [ngClass]="{ 'has-event': c.hasEvent }"
            >
              {{ c.day }}
            </div>
          </ng-container>
        </div>
      </div>
    </div>

  </div>
</section>
